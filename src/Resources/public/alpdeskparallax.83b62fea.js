(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){if("requestAnimationFrame"in window){var e,n=[],t=[],o=.25;l(),n.length>0&&(window.addEventListener("scroll",i),window.addEventListener("resize",l))}function i(){n.forEach((function(e){var n=e.node.parentNode;n.classList.contains("parallax")&&function(e){var n=e.getBoundingClientRect().top+window.scrollY,t=n+e.offsetHeight,o=window.scrollY,i=o+window.innerHeight;return t>o&&n<i}(n)&&!function(e){return t.some((function(n){return n.node===e}))}(e.node)&&t.push({node:e.node,parent:n,vAlign:e.vAlign,hAlign:e.hAlign,sizeModus:e.sizeModus,coverH:e.coverH,elementH:e.elementH})})),cancelAnimationFrame(e),t.length&&(e=requestAnimationFrame(a))}function a(){t.forEach(r)}function r(e){if(!(e.parent.getBoundingClientRect().top>window.innerHeight)){var n=parseInt(e.node.dataset.parallaxValign),t=e.node.dataset.parallaxHalign,i=e.node.dataset.vparallax,a=window.scrollY-function(e){var n=e.getBoundingClientRect().top+window.scrollY-window.innerHeight;return n<0?0:n}(e.parent),r=n+o*a;"bottom"===e.vAlign&&"cover"!==e.sizeModus&&(r=n-o*a),e.node.style.backgroundPositionY=r+"px";var l=t;"left"===i&&"center"!==e.hAlign?l=-r+"px":"right"===i&&"center"!==e.hAlign&&(l=window.innerWidth-r+"px"),e.node.style.backgroundPositionX=l}}function l(){n=[],t=[],document.querySelectorAll(".has-responsive-background-image").forEach((function(e){var t=e.querySelector("div.parallax-bgimage");if(t){var a=t.dataset.isparallax,r=t.dataset.sizemodus,l=t.dataset.halign,s=t.dataset.valign,d=t.dataset.src,c=t.dataset.srcheight;if(t.style.backgroundImage="url(".concat(d,")"),t.style.backgroundSize=r,"1"===a){var g=e.offsetHeight,u="cover"===r?g+g*o+o*window.innerHeight:0;"cover"===r&&(t.style.height=u+"px",t.style.top=-(u-g)+"px",t.style.backgroundPositionY="0%"),t.dataset.parallaxValign=function(e,n,t,o){var i=0;return"cover"===o||("center"===t?i=Math.floor(e/2-n/2):"bottom"===t&&(i=Math.floor(e-n))),i}(t.offsetHeight,c,s,r).toString(),t.dataset.parallaxHalign=l,n.push({node:t,vAlign:s,hAlign:l,sizeModus:r,coverH:u,elementH:g}),i()}else t.style.backgroundPositionX=l,t.style.backgroundPositionY=s}}))}}))})();